name: ixiacb2b02

topology:
  kinds:
    ixiac-cntl:
      image: ixiacom/ixia-c-controller:0.0.1-2597
      env:
        ACCEPT_EULA: "Yes"
    ixiac-te:
      image: ixiacom/ixia-c-traffic-engine:1.4.1.5
      env:
        OPT_NO_HUGEPAGES: "Yes"
        WAIT_FOR_IFACE: "Yes"
        OPT_NO_PINNING: "Yes"
        OPT_LISTEN_PORT: "5555"
        ARG_IFACE_LIST: "virtual@af_packet,eth1"

  nodes:
    ixiac-controller:
      kind: ixiac-cntl
      env:
        HTTP_PORT: "80"
      ports:
        - 8080:80
    ixiac-te-1:
      kind: ixiac-te  
      ports:
        - 32001:5555
    ixiac-te-2:
      kind: ixiac-te
      ports:
        - 32002:5555

  links:
    - endpoints:
      - "ixiac-te-1:eth1"
      - "ixiac-te-2:eth1"